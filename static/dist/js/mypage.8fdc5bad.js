"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[767],{8080:function(e,a,t){t.d(a,{Z:function(){return m}});var n=t(6252);const r={key:0},u={key:1};function s(e,a,t,s,l,i){return s.loading?((0,n.wg)(),(0,n.iD)("article",r,"loading")):((0,n.wg)(),(0,n.iD)("article",u,[(0,n.WI)(e.$slots,"default")]))}var l=t(2262),i=t(8410),o={setup(){const e=(0,i.oR)(),a=(0,l.Fl)((()=>e.state.mypage.loading));return{loading:a}}},d=t(3744);const p=(0,d.Z)(o,[["render",s]]);var m=p},2339:function(e,a,t){t.r(a),t.d(a,{default:function(){return q}});var n=t(6252);const r=e=>((0,n.dD)("data-v-1ddd9d14"),e=e(),(0,n.Cn)(),e),u=r((()=>(0,n._)("h3",null,"My Page",-1))),s=r((()=>(0,n._)("p",null,"メーリスにおける各種設定のページです",-1))),l={class:"pure-g"},i={class:"pure-menu-custom pure-u-1 pure-u-sm-1 pure-u-md-1-2 pure-u-lg-1-3"},o={class:"card"},d=r((()=>(0,n._)("h4",{class:"pure-menu-heading border-info"},"登録情報",-1))),p={class:"pure-menu-list"},m={class:"pure-menu-item"},c=(0,n.Uk)(" 登録情報変更 "),g={class:"pure-menu-item"},_=(0,n.Uk)(" メーリス受信設定 "),f={class:"pure-menu-item"},v=(0,n.Uk)(" メーリス受信テスト "),h={class:"pure-menu-item"},b=(0,n.Uk)(" LiveLog・Google認証 "),k=(0,n.uE)('<section class="pure-menu-custom pure-u-1 pure-u-sm-1 pure-u-md-1-2 pure-u-lg-1-3" data-v-1ddd9d14><div class="card" data-v-1ddd9d14><h4 class="pure-menu-heading border-dark" data-v-1ddd9d14>ログアウト</h4><ul class="pure-menu-list" data-v-1ddd9d14><li class="pure-menu-item" data-v-1ddd9d14><a href="/logout/" class="pure-menu-link" data-v-1ddd9d14>ログアウトする</a></li></ul></div></section>',1),w={class:"pure-menu-custom pure-u-1 pure-u-sm-1 pure-u-md-1-2 pure-u-lg-1-3"},y={class:"card"},D=r((()=>(0,n._)("h4",{class:"pure-menu-heading border-warining"},"ユーザー招待",-1))),x={class:"pure-menu-list"},U={class:"pure-menu-item"},A=(0,n.Uk)(" 招待用フォーム "),E=(0,n.uE)('<section class="pure-menu-custom pure-u-1 pure-u-sm-1 pure-u-md-1-2 pure-u-lg-1-3" data-v-1ddd9d14><div class="card" data-v-1ddd9d14><h4 class="pure-menu-heading border-danger" data-v-1ddd9d14>管理サイト</h4><ul class="pure-menu-list" data-v-1ddd9d14><li class="pure-menu-item" data-v-1ddd9d14><a href="/admin/" class="pure-menu-link" target="_blank" data-v-1ddd9d14>Zoomail 管理者用サイト</a></li></ul></div></section>',1);function C(e,a,t,r,C,F){const N=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("article",null,[u,s,(0,n._)("div",l,[(0,n._)("section",i,[(0,n._)("div",o,[d,(0,n._)("ul",p,[(0,n._)("li",m,[(0,n.Wm)(N,{to:{name:"mypage:profile"},class:"pure-menu-link"},{default:(0,n.w5)((()=>[c])),_:1})]),(0,n._)("li",g,[(0,n.Wm)(N,{to:{name:"mypage:mail-settings"},class:"pure-menu-link"},{default:(0,n.w5)((()=>[_])),_:1})]),(0,n._)("li",f,[(0,n.Wm)(N,{to:{name:"mypage:mail-test"},class:"pure-menu-link"},{default:(0,n.w5)((()=>[v])),_:1})]),(0,n._)("li",h,[(0,n.Wm)(N,{to:{name:"mypage:oauth"},class:"pure-menu-link"},{default:(0,n.w5)((()=>[b])),_:1})])])])]),k,(0,n._)("section",w,[(0,n._)("div",y,[D,(0,n._)("ul",x,[(0,n._)("li",U,[(0,n.Wm)(N,{to:{name:"mypage:invite"},class:"pure-menu-link"},{default:(0,n.w5)((()=>[A])),_:1})])])])]),E])])}var F=t(2262),N=t(8410),Z={setup(){const e=(0,N.oR)(),a=(0,F.qj)({canRegisterUser:!1,canEnterAdmin:!1}),t=()=>{const t=e.state.user;t.is_staff?a.canEnterAdmin=!0:a.canEnterAdmin=!1};return(0,n.bv)((()=>t())),{permissions:a}}},W=t(3744);const M=(0,W.Z)(Z,[["render",C],["__scopeId","data-v-1ddd9d14"]]);var q=M},5576:function(e,a,t){t.r(a),t.d(a,{default:function(){return y}});var n=t(6252),r=t(9963);const u=(0,n._)("h3",null,"メーリス受信設定",-1),s={class:"pure-control-group"},l=(0,n._)("label",{for:"id_last_name"},"受信用メールアドレス:",-1),i=(0,n._)("p",{class:"small"},[(0,n.Uk)(" メーリスを受信するメールアドレスを指定してください。"),(0,n._)("br"),(0,n.Uk)(" 空白の場合は、ログインに用いるGmailアドレスか、 LiveLogアカウントに登録されたメールアドレスになります。 ")],-1),o={class:"pure-control-group"},d=(0,n._)("label",{for:"id_send_mail",class:""},"メーリスを受信する:",-1),p=(0,n._)("p",{class:"small"},[(0,n.Uk)(" メーリスを受け取りたくない場合はチェックを外してください。"),(0,n._)("br"),(0,n.Uk)(" チェックが外されると、全回・回生メーリスともに送信されないようになりますが、"),(0,n._)("br"),(0,n.Uk)(" このサイトにログインし、メーリスを確認することは出来ます。 ")],-1),m={class:"custom-two-buttons-wrapper"},c=(0,n.Uk)("戻る"),g=(0,n._)("button",{type:"submit",class:"pure-button button-primary"}," 更新 ",-1);function _(e,a,t,_,f,v){const h=(0,n.up)("router-link"),b=(0,n.up)("abstract-setting");return(0,n.wg)(),(0,n.j4)(b,{loading:_.loading},{default:(0,n.w5)((()=>[u,(0,n._)("form",{onSubmit:a[2]||(a[2]=(...e)=>_.submit&&_.submit(...e)),class:"pure-form pure-form-stacked"},[(0,n._)("div",s,[l,(0,n.wy)((0,n._)("input",{type:"email",name:"last_name","onUpdate:modelValue":a[0]||(a[0]=e=>_.formData.receiveEmail=e),maxlength:"254",class:"pure-input-1",required:"false",id:"id_last_name"},null,512),[[r.nr,_.formData.receiveEmail]]),i]),(0,n._)("div",o,[d,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"send_mail","onUpdate:modelValue":a[1]||(a[1]=e=>_.formData.sendMail=e),id:"id_send_mail"},null,512),[[r.e8,_.formData.sendMail]]),p]),(0,n._)("div",m,[(0,n.Wm)(h,{to:{name:"mypage:index"},class:"pure-button"},{default:(0,n.w5)((()=>[c])),_:1}),g])],32)])),_:1},8,["loading"])}var f=t(2262),v=t(8410),h=t(8080),b={components:{AbstractSetting:h.Z},setup(){const e=(0,v.oR)(),a=(0,f.qj)({receiveEmail:"",sendMail:!0}),t=(0,f.Fl)((()=>e.state.mypage.loading));(0,n.bv)((()=>{const t=e.state.mypage.userInfo;a.receiveEmail=t.receiveEmail,a.sendMail=t.sendMail}));const r=t=>{t.preventDefault();const n=new FormData;n.append("receive_email",a.receiveEmail),n.append("send_mail",a.sendMail),e.dispatch("mypage/post",{path:"/api/mypage/mail-settings/",formData:n})};return{formData:a,loading:t,submit:r}}},k=t(3744);const w=(0,k.Z)(b,[["render",_]]);var y=w},1946:function(e,a,t){t.r(a),t.d(a,{default:function(){return D}});var n=t(6252),r=t(9963),u=t(3577);const s=(0,n._)("h3",null,"メーリス受信テスト",-1),l={class:"pure-form pure-form-stacked"},i={class:"pure-control-group"},o=(0,n._)("label",{for:"stacked-email"},"現在設定されているメールアドレス",-1),d=["value"],p={class:"pure-controls"},m=["textContent"],c=(0,n._)("div",{class:"pure-control-group"},[(0,n._)("p",{class:"small"},[(0,n.Uk)(" メーリスがきちんと受信できるか確かめるために、テストメールを送信します。"),(0,n._)("br"),(0,n.Uk)(" テストメールの送信は5分に1回行うことができます。 ")])],-1),g={class:"pure-control-group custom-two-buttons-wrapper"},_=(0,n.Uk)("戻る");function f(e,a,t,f,v,h){const b=(0,n.up)("router-link"),k=(0,n.up)("abstract-setting");return(0,n.wg)(),(0,n.j4)(k,{loading:f.loading},{default:(0,n.w5)((()=>[s,(0,n._)("form",l,[(0,n._)("div",i,[o,(0,n._)("input",{type:"email",id:"stacked-email",value:f.showEmailAddress?f.receiveEmail:"***************",readonly:"",class:"pure-input-1"},null,8,d)]),(0,n._)("div",p,[(0,n._)("button",{onClick:a[0]||(a[0]=(0,r.iM)((e=>f.showEmailAddress=!f.showEmailAddress),["prevent"])),class:"pure-button",textContent:(0,u.zw)(f.showEmailAddress?"メールアドレスを隠す":"メールアドレスを表示する")},null,8,m)]),c,(0,n._)("div",g,[(0,n.Wm)(b,{to:"../",class:"pure-button"},{default:(0,n.w5)((()=>[_])),_:1}),(0,n._)("button",{onClick:a[1]||(a[1]=(0,r.iM)(((...e)=>f.send&&f.send(...e)),["prevent"])),class:"pure-button button-primary"}," 送信する ")])])])),_:1},8,["loading"])}var v=t(2262),h=t(8410),b=t(8080),k={components:{AbstractSetting:b.Z},setup(){const e=(0,h.oR)(),a=(0,v.iH)(!1),t=(0,v.Fl)((()=>e.state.mypage.userInfo.receiveEmail)),n=(0,v.Fl)((()=>e.state.mypage.loading)),r=()=>{const a=new FormData;a.append("send",!0),e.dispatch("mypage/post",{path:"/api/mypage/mail-test/",formData:a})};return{receiveEmail:t,showEmailAddress:a,loading:n,send:r}}},w=t(3744);const y=(0,w.Z)(k,[["render",f]]);var D=y},5110:function(e,a,t){t.r(a),t.d(a,{default:function(){return j}});var n=t(6252),r=t(3577),u=t(2743),s=t(3839);const l=e=>((0,n.dD)("data-v-4a24a88e"),e=e(),(0,n.Cn)(),e),i=l((()=>(0,n._)("h3",null,"LiveLog・Google認証",-1))),o=l((()=>(0,n._)("p",null,"認証を行ったサービスのアカウントでログインすることが出来ます。",-1))),d={class:"pure-g"},p={class:"card-wrapper pure-u-1 pure-u-md-1-2 pure-u-ld-1-3",id:"google"},m={class:"card oauth-card"},c={class:"oauth-card-row"},g=l((()=>(0,n._)("img",{src:u,alt:"google",width:"512",height:"300"},null,-1))),_=["textContent"],f={key:0,class:"oauth-card-row"},v={key:1},h={key:1,class:"oauth-card-row"},b=l((()=>(0,n._)("a",{href:"/auth/login/google-oauth2?next=/mypage/oauth/",class:"pure-button button-primary"}," 認証する ",-1))),k=[b],w={class:"card-wrapper pure-u-1 pure-u-md-1-2 pure-u-ld-1-3",id:"livelog"},y={class:"card oauth-card"},D={class:"oauth-card-row"},x=l((()=>(0,n._)("img",{src:s,alt:"livelog",width:"160",height:"118"},null,-1))),U=["textContent"],A={key:0,class:"oauth-card-row"},E=l((()=>(0,n._)("a",{href:"/auth/login/auth0?next=/mypage/oauth/",class:"pure-button button-primary"}," 認証する ",-1))),C=[E],F=(0,n.Uk)("戻る");function N(e,a,t,u,s,l){const b=(0,n.up)("router-link"),E=(0,n.up)("abstract-setting");return(0,n.wg)(),(0,n.j4)(E,{loading:u.loading},{default:(0,n.w5)((()=>[i,o,(0,n._)("section",d,[(0,n._)("div",p,[(0,n._)("div",m,[(0,n._)("div",c,[g,(0,n._)("span",{textContent:(0,r.zw)(u.googleOauth2?"認証済み":"未認証"),class:(0,r.C_)(["badge",{true:u.googleOauth2,false:!u.googleOauth2}])},null,10,_)]),u.googleOauth2?((0,n.wg)(),(0,n.iD)("div",f,[u.livelogAuth0?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:a[0]||(a[0]=(...e)=>u.unlink&&u.unlink(...e)),class:"pure-button"}," 紐付けを解除する ")):((0,n.wg)(),(0,n.iD)("p",v," 紐付けを解除するためには、もう一度LiveLogへログインしてください "))])):((0,n.wg)(),(0,n.iD)("div",h,k))])]),(0,n._)("div",w,[(0,n._)("div",y,[(0,n._)("div",D,[x,(0,n._)("span",{textContent:(0,r.zw)(u.livelogAuth0?"認証済み":"未認証"),class:(0,r.C_)(["badge",{true:u.livelogAuth0,false:!u.livelogAuth0}])},null,10,U)]),u.livelogAuth0?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",A,C))])])]),(0,n.Wm)(b,{to:{name:"mypage:index"},class:"pure-button"},{default:(0,n.w5)((()=>[F])),_:1})])),_:1},8,["loading"])}var Z=t(2262),W=t(8410),M=t(8080),q={components:{AbstractSetting:M.Z},setup(){const e=(0,W.oR)(),a=(0,Z.Fl)((()=>e.state.mypage.loading)),t=(0,Z.Fl)((()=>e.state.mypage.userInfo.livelogAuth0)),n=(0,Z.Fl)((()=>e.state.mypage.userInfo.googleOauth2)),r=()=>{const a=new FormData;a.append("unlink",!0),e.dispatch("mypage/post",{path:"/api/mypage/google-unlink/",formData:a})};return{loading:a,livelogAuth0:t,googleOauth2:n,unlink:r}}},I=t(3744);const L=(0,I.Z)(q,[["render",N],["__scopeId","data-v-4a24a88e"]]);var j=L},649:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var n=t(6252),r=t(9963);const u=(0,n._)("h3",null,"登録情報変更",-1),s={class:"pure-control-group"},l=(0,n._)("label",{for:"id_last_name"},"名字:",-1),i={class:"pure-control-group"},o=(0,n._)("label",{for:"id_first_name"},"名前:",-1),d={class:"pure-control-group"},p=(0,n._)("label",{for:"id_furigana"},"ふりがな:",-1),m={class:"pure-control-group"},c=(0,n._)("label",{for:"id_nickname"},"ニックネーム:",-1),g={class:"pure-controls custom-two-buttons-wrapper"},_=(0,n.Uk)("戻る"),f=(0,n._)("button",{type:"submit",class:"pure-button button-primary"}," 更新 ",-1);function v(e,a,t,v,h,b){const k=(0,n.up)("router-link"),w=(0,n.up)("abstract-setting");return(0,n.wg)(),(0,n.j4)(w,{loading:v.loading},{default:(0,n.w5)((()=>[u,(0,n._)("form",{onSubmit:a[4]||(a[4]=(...e)=>v.submit&&v.submit(...e)),class:"pure-form pure-form-stacked"},[(0,n._)("div",s,[l,(0,n.wy)((0,n._)("input",{type:"text",name:"last_name","onUpdate:modelValue":a[0]||(a[0]=e=>v.formData.lastName=e),maxlength:"255",required:"",id:"id_last_name",class:"pure-input-1"},null,512),[[r.nr,v.formData.lastName]])]),(0,n._)("div",i,[o,(0,n.wy)((0,n._)("input",{type:"text",name:"first_name","onUpdate:modelValue":a[1]||(a[1]=e=>v.formData.firstName=e),maxlength:"255",required:"",id:"id_first_name",class:"pure-input-1"},null,512),[[r.nr,v.formData.firstName]])]),(0,n._)("div",d,[p,(0,n.wy)((0,n._)("input",{type:"text",name:"furigana","onUpdate:modelValue":a[2]||(a[2]=e=>v.formData.furigana=e),maxlength:"255",required:"",id:"id_furigana",class:"pure-input-1"},null,512),[[r.nr,v.formData.furigana]])]),(0,n._)("div",m,[c,(0,n.wy)((0,n._)("input",{type:"text",name:"nickname","onUpdate:modelValue":a[3]||(a[3]=e=>v.formData.nickname=e),maxlength:"255",id:"id_nickname",class:"pure-input-1"},null,512),[[r.nr,v.formData.nickname]])]),(0,n._)("div",g,[(0,n.Wm)(k,{to:{name:"mypage:index"},class:"pure-button"},{default:(0,n.w5)((()=>[_])),_:1}),f])],32)])),_:1},8,["loading"])}var h=t(2262),b=t(8410),k=t(8080),w={components:{AbstractSetting:k.Z},setup(){const e=(0,b.oR)(),a=(0,h.qj)({lastName:"",firstName:"",furigana:"",nickname:""}),t=(0,h.Fl)((()=>e.state.mypage.loading));(0,n.bv)((()=>{const t=e.state.mypage.userInfo;a.lastName=t.lastName,a.firstName=t.firstName,a.furigana=t.furigana,a.nickname=t.nickname}));const r=t=>{t.preventDefault();const n=new FormData;n.append("last_name",a.lastName),n.append("first_name",a.firstName),n.append("furigana",a.furigana),n.append("nickname",a.nickname),e.dispatch("mypage/post",{path:"/api/mypage/profile/",formData:n})};return{formData:a,loading:t,submit:r}}},y=t(3744);const D=(0,y.Z)(w,[["render",v]]);var x=D},2743:function(e,a,t){e.exports=t.p+"static/dist/img/google.fd4588af.png"},3839:function(e,a,t){e.exports=t.p+"static/dist/img/livelog.6df3ecdf.png"}}]);
//# sourceMappingURL=mypage.8fdc5bad.js.map