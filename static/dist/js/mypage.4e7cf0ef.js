"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[767],{4738:function(e,a,t){t.r(a),t.d(a,{default:function(){return N}});var n=t(6252),u=t(2262),r=t(3907);const l=e=>((0,n.dD)("data-v-f3f8b192"),e=e(),(0,n.Cn)(),e),s=l((()=>(0,n._)("h3",null,"My Page",-1))),i=l((()=>(0,n._)("p",null,"メーリスにおける各種設定のページです",-1))),o={class:"pure-g"},p={class:"pure-menu-custom pure-u-1 pure-u-sm-1 pure-u-md-1-2 pure-u-lg-1-3"},m={class:"card"},c=l((()=>(0,n._)("h4",{class:"pure-menu-heading border-info"},"登録情報",-1))),d={class:"pure-menu-list"},g={class:"pure-menu-item"},f={class:"pure-menu-item"},_={class:"pure-menu-item"},v={class:"pure-menu-item"},b=(0,n.uE)('<section class="pure-menu-custom pure-u-1 pure-u-sm-1 pure-u-md-1-2 pure-u-lg-1-3" data-v-f3f8b192><div class="card" data-v-f3f8b192><h4 class="pure-menu-heading border-dark" data-v-f3f8b192>ログアウト</h4><ul class="pure-menu-list" data-v-f3f8b192><li class="pure-menu-item" data-v-f3f8b192><a href="/logout/" class="pure-menu-link" data-v-f3f8b192>ログアウトする</a></li></ul></div></section>',1),h={key:0,class:"pure-menu-custom pure-u-1 pure-u-sm-1 pure-u-md-1-2 pure-u-lg-1-3"},k={class:"card"},w=l((()=>(0,n._)("h4",{class:"pure-menu-heading border-warining"},"ユーザー招待",-1))),y={class:"pure-menu-list"},D={class:"pure-menu-item"},U={key:1,class:"pure-menu-custom pure-u-1 pure-u-sm-1 pure-u-md-1-2 pure-u-lg-1-3"},x=(0,n.uE)('<div class="card" data-v-f3f8b192><h4 class="pure-menu-heading border-danger" data-v-f3f8b192>管理サイト</h4><ul class="pure-menu-list" data-v-f3f8b192><li class="pure-menu-item" data-v-f3f8b192><a href="/admin/" class="pure-menu-link" target="_blank" data-v-f3f8b192>Zoomail 管理者用サイト</a></li></ul></div>',1),A=[x];var E={__name:"index",setup(e){const a=(0,r.oR)(),t=(0,n.Fl)((()=>a.state.mypage.userInfo.canRegisterUser)),l=(0,n.Fl)((()=>a.state.mypage.userInfo.isStaff));return(e,a)=>{const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("article",null,[s,i,(0,n._)("div",o,[(0,n._)("section",p,[(0,n._)("div",m,[c,(0,n._)("ul",d,[(0,n._)("li",g,[(0,n.Wm)(r,{to:{name:"mypage:profile"},class:"pure-menu-link"},{default:(0,n.w5)((()=>[(0,n.Uk)(" 登録情報変更 ")])),_:1})]),(0,n._)("li",f,[(0,n.Wm)(r,{to:{name:"mypage:mail-settings"},class:"pure-menu-link"},{default:(0,n.w5)((()=>[(0,n.Uk)(" メーリス受信設定 ")])),_:1})]),(0,n._)("li",_,[(0,n.Wm)(r,{to:{name:"mypage:mail-test"},class:"pure-menu-link"},{default:(0,n.w5)((()=>[(0,n.Uk)(" メーリス受信テスト ")])),_:1})]),(0,n._)("li",v,[(0,n.Wm)(r,{to:{name:"mypage:oauth"},class:"pure-menu-link"},{default:(0,n.w5)((()=>[(0,n.Uk)(" LiveLog・Google認証 ")])),_:1})])])])]),b,(0,u.SU)(t)?((0,n.wg)(),(0,n.iD)("section",h,[(0,n._)("div",k,[w,(0,n._)("ul",y,[(0,n._)("li",D,[(0,n.Wm)(r,{to:{name:"mypage:invite"},class:"pure-menu-link"},{default:(0,n.w5)((()=>[(0,n.Uk)(" 招待用フォーム ")])),_:1})])])])])):(0,n.kq)("",!0),(0,u.SU)(l)?((0,n.wg)(),(0,n.iD)("section",U,A)):(0,n.kq)("",!0)])])}}},C=t(3744);const F=(0,C.Z)(E,[["__scopeId","data-v-f3f8b192"]]);var N=F},921:function(e,a,t){t.r(a),t.d(a,{default:function(){return w}});var n=t(6252),u=t(9963);const r=(0,n._)("h3",null,"メーリス受信設定",-1),l={class:"pure-control-group"},s=(0,n._)("label",{for:"id_last_name"},"受信用メールアドレス:",-1),i=(0,n._)("p",{class:"small"},[(0,n.Uk)(" メーリスを受信するメールアドレスを指定してください。"),(0,n._)("br"),(0,n.Uk)(" 空白の場合は、ログインに用いるGmailアドレスか、 LiveLogアカウントに登録されたメールアドレスになります。 ")],-1),o={class:"pure-control-group"},p=(0,n._)("label",{for:"id_send_mail",class:""},"メーリスを受信する:",-1),m=(0,n._)("p",{class:"small"},[(0,n.Uk)(" メーリスを受け取りたくない場合はチェックを外してください。"),(0,n._)("br"),(0,n.Uk)(" チェックが外されると、全回・回生メーリスともに送信されないようになりますが、"),(0,n._)("br"),(0,n.Uk)(" このサイトにログインし、メーリスを確認することは出来ます。 ")],-1),c={class:"custom-two-buttons-wrapper"},d=(0,n._)("button",{type:"submit",class:"pure-button button-primary"},"更新",-1);function g(e,a,t,g,f,_){const v=(0,n.up)("router-link"),b=(0,n.up)("abstract-setting");return(0,n.wg)(),(0,n.j4)(b,{loading:g.loading},{default:(0,n.w5)((()=>[r,(0,n._)("form",{onSubmit:a[2]||(a[2]=(...e)=>g.submit&&g.submit(...e)),class:"pure-form pure-form-stacked"},[(0,n._)("div",l,[s,(0,n.wy)((0,n._)("input",{type:"email",name:"last_name","onUpdate:modelValue":a[0]||(a[0]=e=>g.formData.receiveEmail=e),maxlength:"254",class:"pure-input-1",required:"false",id:"id_last_name"},null,512),[[u.nr,g.formData.receiveEmail]]),i]),(0,n._)("div",o,[p,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"send_mail","onUpdate:modelValue":a[1]||(a[1]=e=>g.formData.sendMail=e),id:"id_send_mail"},null,512),[[u.e8,g.formData.sendMail]]),m]),(0,n._)("div",c,[(0,n.Wm)(v,{to:{name:"mypage:index"},class:"pure-button return"},{default:(0,n.w5)((()=>[(0,n.Uk)("戻る")])),_:1}),d])],32)])),_:1},8,["loading"])}var f=t(2262),_=t(3907),v=t(8700),b={components:{AbstractSetting:v.Z},setup(){const e=(0,_.oR)(),a=(0,f.qj)({receiveEmail:"",sendMail:!0}),t=(0,n.Fl)((()=>e.state.mypage.loading)),u=()=>{const t=e.state.mypage.userInfo;a.receiveEmail=t.receiveEmail,a.sendMail=t.sendMail};(0,n.bv)((()=>u())),e.watch(((e,a)=>a["mypage/hasUserInfo"]),(()=>{u()}));const r=t=>{t.preventDefault();const n=new FormData;n.append("receive_email",a.receiveEmail),n.append("send_mail",a.sendMail),e.dispatch("mypage/post",{path:"/api/mypage/mail-settings/",formData:n})};return{formData:a,loading:t,submit:r}}},h=t(3744);const k=(0,h.Z)(b,[["render",g]]);var w=k},4650:function(e,a,t){t.r(a),t.d(a,{default:function(){return y}});var n=t(6252),u=t(9963),r=t(3577);const l=(0,n._)("h3",null,"メーリス受信テスト",-1),s={class:"pure-form pure-form-stacked"},i={class:"pure-control-group"},o=(0,n._)("label",{for:"stacked-email"},"現在設定されているメールアドレス",-1),p=["value"],m={class:"pure-controls"},c=["textContent"],d=(0,n._)("div",{class:"pure-control-group"},[(0,n._)("p",{class:"small"},[(0,n.Uk)(" メーリスがきちんと受信できるか確かめるために、テストメールを送信します。"),(0,n._)("br"),(0,n.Uk)(" テストメールの送信は5分に1回行うことができます。 ")])],-1),g={class:"pure-control-group custom-two-buttons-wrapper"};function f(e,a,t,f,_,v){const b=(0,n.up)("router-link"),h=(0,n.up)("AbstractSetting");return(0,n.wg)(),(0,n.j4)(h,null,{default:(0,n.w5)((()=>[l,(0,n._)("form",s,[(0,n._)("div",i,[o,(0,n._)("input",{type:"email",id:"stacked-email",value:f.showEmailAddress?f.receiveEmail:"***************",readonly:"",class:"pure-input-1"},null,8,p)]),(0,n._)("div",m,[(0,n._)("button",{onClick:a[0]||(a[0]=(0,u.iM)((e=>f.showEmailAddress=!f.showEmailAddress),["prevent"])),class:"pure-button",textContent:(0,r.zw)(f.showEmailAddress?"メールアドレスを隠す":"メールアドレスを表示する")},null,8,c)]),d,(0,n._)("div",g,[(0,n.Wm)(b,{to:"../",class:"pure-button return"},{default:(0,n.w5)((()=>[(0,n.Uk)("戻る")])),_:1}),(0,n._)("button",{onClick:a[1]||(a[1]=(0,u.iM)(((...e)=>f.send&&f.send(...e)),["prevent"])),class:"pure-button button-primary"}," 送信する ")])])])),_:1})}var _=t(2262),v=t(3907),b=t(8700),h={components:{AbstractSetting:b.Z},setup(){const e=(0,v.oR)(),a=(0,_.iH)(!1),t=(0,n.Fl)((()=>e.state.mypage.userInfo.receiveEmail)),u=()=>{const a=new FormData;a.append("send",!0),e.dispatch("mypage/post",{path:"/api/mypage/mail-test/",formData:a})};return{receiveEmail:t,showEmailAddress:a,send:u}}},k=t(3744);const w=(0,k.Z)(h,[["render",f]]);var y=w},2400:function(e,a,t){t.r(a),t.d(a,{default:function(){return M}});var n=t(6252),u=t(3577),r=t.p+"static/dist/img/google.fd4588af.png",l=t.p+"static/dist/img/livelog.6df3ecdf.png";const s=e=>((0,n.dD)("data-v-43e60260"),e=e(),(0,n.Cn)(),e),i=s((()=>(0,n._)("h3",null,"LiveLog・Google認証",-1))),o=s((()=>(0,n._)("p",null,"認証を行ったサービスのアカウントでログインすることが出来ます。",-1))),p={class:"pure-g"},m={class:"card-wrapper pure-u-1 pure-u-md-1-2 pure-u-ld-1-3",id:"google"},c={class:"card oauth-card"},d={class:"oauth-card-row"},g=s((()=>(0,n._)("img",{src:r,alt:"google",width:"512",height:"300"},null,-1))),f=["textContent"],_={key:0,class:"oauth-card-row"},v={key:1},b={key:1,class:"oauth-card-row"},h=s((()=>(0,n._)("a",{href:"/auth/login/google-oauth2?next=/mypage/oauth/",class:"pure-button button-primary"}," 認証する ",-1))),k=[h],w={class:"card-wrapper pure-u-1 pure-u-md-1-2 pure-u-ld-1-3",id:"livelog"},y={class:"card oauth-card"},D={class:"oauth-card-row"},U=s((()=>(0,n._)("img",{src:l,alt:"livelog",width:"160",height:"118"},null,-1))),x=["textContent"],A={key:0,class:"oauth-card-row"},E=s((()=>(0,n._)("a",{href:"/auth/login/auth0?next=/mypage/oauth/",class:"pure-button button-primary"}," 認証する ",-1))),C=[E];function F(e,a,t,r,l,s){const h=(0,n.up)("router-link"),E=(0,n.up)("AbstractSetting");return(0,n.wg)(),(0,n.j4)(E,null,{default:(0,n.w5)((()=>[i,o,(0,n._)("section",p,[(0,n._)("div",m,[(0,n._)("div",c,[(0,n._)("div",d,[g,(0,n._)("span",{textContent:(0,u.zw)(r.googleOauth2?"認証済み":"未認証"),class:(0,u.C_)(["badge",{true:r.googleOauth2,false:!r.googleOauth2}])},null,10,f)]),r.googleOauth2?((0,n.wg)(),(0,n.iD)("div",_,[r.livelogAuth0?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:a[0]||(a[0]=(...e)=>r.unlink&&r.unlink(...e)),class:"pure-button"}," 紐付けを解除する ")):((0,n.wg)(),(0,n.iD)("p",v," 紐付けを解除するためには、もう一度LiveLogへログインしてください "))])):((0,n.wg)(),(0,n.iD)("div",b,k))])]),(0,n._)("div",w,[(0,n._)("div",y,[(0,n._)("div",D,[U,(0,n._)("span",{textContent:(0,u.zw)(r.livelogAuth0?"認証済み":"未認証"),class:(0,u.C_)(["badge",{true:r.livelogAuth0,false:!r.livelogAuth0}])},null,10,x)]),r.livelogAuth0?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",A,C))])])]),(0,n.Wm)(h,{to:{name:"mypage:index"},class:"pure-button return"},{default:(0,n.w5)((()=>[(0,n.Uk)("戻る")])),_:1})])),_:1})}var N=t(3907),I=t(8700),S={components:{AbstractSetting:I.Z},setup(){const e=(0,N.oR)(),a=(0,n.Fl)((()=>e.state.mypage.loading)),t=(0,n.Fl)((()=>e.state.mypage.userInfo.livelogAuth0)),u=(0,n.Fl)((()=>e.state.mypage.userInfo.googleOauth2)),r=()=>{const a=new FormData;a.append("unlink",!0),e.dispatch("mypage/post",{path:"/api/mypage/google-unlink/",formData:a})};return{loading:a,livelogAuth0:t,googleOauth2:u,unlink:r}}},Z=t(3744);const q=(0,Z.Z)(S,[["render",F],["__scopeId","data-v-43e60260"]]);var M=q},8376:function(e,a,t){t.r(a),t.d(a,{default:function(){return D}});var n=t(6252),u=t(9963);const r=(0,n._)("h3",null,"登録情報変更",-1),l={class:"pure-control-group"},s=(0,n._)("label",{for:"id_last_name"},"名字:",-1),i={class:"pure-control-group"},o=(0,n._)("label",{for:"id_first_name"},"名前:",-1),p={class:"pure-control-group"},m=(0,n._)("label",{for:"id_furigana"},"ふりがな:",-1),c={class:"pure-control-group"},d=(0,n._)("label",{for:"id_nickname"},"ニックネーム:",-1),g={class:"pure-controls custom-two-buttons-wrapper"},f=(0,n._)("button",{type:"submit",class:"pure-button button-primary"},"更新",-1);function _(e,a,t,_,v,b){const h=(0,n.up)("router-link"),k=(0,n.up)("abstract-setting");return(0,n.wg)(),(0,n.j4)(k,{loading:_.loading},{default:(0,n.w5)((()=>[r,(0,n._)("form",{onSubmit:a[4]||(a[4]=(...e)=>_.submit&&_.submit(...e)),class:"pure-form pure-form-stacked"},[(0,n._)("div",l,[s,(0,n.wy)((0,n._)("input",{type:"text",name:"last_name","onUpdate:modelValue":a[0]||(a[0]=e=>_.formData.lastName=e),maxlength:"255",required:"",id:"id_last_name",class:"pure-input-1"},null,512),[[u.nr,_.formData.lastName]])]),(0,n._)("div",i,[o,(0,n.wy)((0,n._)("input",{type:"text",name:"first_name","onUpdate:modelValue":a[1]||(a[1]=e=>_.formData.firstName=e),maxlength:"255",required:"",id:"id_first_name",class:"pure-input-1"},null,512),[[u.nr,_.formData.firstName]])]),(0,n._)("div",p,[m,(0,n.wy)((0,n._)("input",{type:"text",name:"furigana","onUpdate:modelValue":a[2]||(a[2]=e=>_.formData.furigana=e),maxlength:"255",required:"",id:"id_furigana",class:"pure-input-1"},null,512),[[u.nr,_.formData.furigana]])]),(0,n._)("div",c,[d,(0,n.wy)((0,n._)("input",{type:"text",name:"nickname","onUpdate:modelValue":a[3]||(a[3]=e=>_.formData.nickname=e),maxlength:"255",id:"id_nickname",class:"pure-input-1"},null,512),[[u.nr,_.formData.nickname]])]),(0,n._)("div",g,[(0,n.Wm)(h,{to:{name:"mypage:index"},class:"pure-button return"},{default:(0,n.w5)((()=>[(0,n.Uk)("戻る")])),_:1}),f])],32)])),_:1},8,["loading"])}var v=t(2262),b=t(3907),h=t(8700),k={components:{AbstractSetting:h.Z},setup(){const e=(0,b.oR)(),a=(0,v.qj)({lastName:"",firstName:"",furigana:"",nickname:""}),t=(0,n.Fl)((()=>e.state.mypage.loading)),u=(0,n.Fl)((()=>e.state.mypage.userInfo)),r=()=>{a.lastName=u.value.lastName,a.firstName=u.value.firstName,a.furigana=u.value.furigana,a.nickname=u.value.nickname};(0,n.bv)((()=>r())),e.watch(((e,a)=>a["mypage/hasUserInfo"]),(()=>{r()}));const l=t=>{t.preventDefault();const n=new FormData;n.append("last_name",a.lastName),n.append("first_name",a.firstName),n.append("furigana",a.furigana),n.append("nickname",a.nickname),e.dispatch("mypage/post",{path:"/api/mypage/profile/",formData:n})};return{formData:a,loading:t,submit:l}}},w=t(3744);const y=(0,w.Z)(k,[["render",_]]);var D=y}}]);
//# sourceMappingURL=mypage.4e7cf0ef.js.map