{"version":3,"file":"static/dist/js/read.cdd4e8b6.js","mappings":"sMAOqD,mB,mDANxC,EAAAA,OAAOC,UAAA,WAAlB,QAEM,QAFqB,iBAGX,EAAAD,OAAOE,WAAA,WAAvB,QAEM,QAF2B,UAGhB,EAAAF,OAAOC,SAAY,EAAAD,OAAOG,OAI3B,EAAAH,OAAOG,SAAA,WAAvB,QAGM,UAFJ,QAAsB,oBACtB,QAAQ,yBAFV,WAIA,QACM,YATqC,WAA3C,QAGM,YADJ,OAAsC,UAA7B,QAAK,oBAAE,EAAAC,QAAA,EAAAA,UAAA,KAAQ,Y,4CAe5B,GACEC,MAAO,CACLC,GAAI,CAACC,KAAMC,OAAQC,UAAU,GAC7BC,SAAU,CAACH,KAAMI,MAAOF,UAAU,GAClCG,kBAAmB,CAACL,KAAMM,OAAQJ,UAAU,IAE9CK,MAAMT,EAAOU,GACX,MAAMC,GAAQ,UACRC,GAAQ,UACRX,EAAKE,OAAOQ,EAAME,OAAOZ,IAEzBN,GAAS,QAAS,CACtBC,SAAS,EACTE,QAAQ,EACRD,UAAU,IAGNiB,EAAU,KACdC,EAAA,MAAUf,EAAMO,mBAAmBS,MAAKC,IACtCtB,EAAOG,QAAS,EAChB,MAAMoB,EAAO,IAAID,EAAIE,MACrBT,EAAQU,KAAK,aAAcF,MAC1BG,OAAMC,IACc,iBAAjBA,EAAMC,cAAiDC,IAAnBF,EAAMG,SAC5CC,QAAQC,IAAI,SACuB,MAA1BL,EAAMG,SAAS9B,QACxBA,EAAOG,QAAS,EAChB4B,QAAQC,IAAI,QACuB,MAA1BL,EAAMG,SAAS9B,QAGW,MAA1B2B,EAAMG,SAAS9B,QAFxBA,EAAOG,QAAS,EAChBH,EAAOE,UAAW,IAKlB6B,QAAQC,IAAIL,EAAMC,SAClBX,EAAMgB,OAAO,qBAAsB,CACjCC,MAAO,QACPN,QAAU,qBAAoBD,EAAMC,UACpCO,QAAS,wBAGZC,SAAQ,KACTpC,EAAOC,SAAU,MAIrB,GAAII,EAAMK,SAAS2B,MAAKd,GAAQf,OAAOe,EAAKjB,MAAQA,IAAK,CACvD,MAAMiB,EAAO,IAAIlB,EAAMK,SAAS4B,MAAKf,GAAQf,OAAOe,EAAKjB,MAAQA,KACjES,EAAQU,KAAK,aAAcF,GAC3BvB,EAAOC,SAAU,EACjBD,EAAOG,QAAS,OAEhBgB,IAGF,MAAMf,EAAS,IAAMe,IAErB,MAAO,CACLnB,OAAAA,EACAI,OAAAA,K,UC/EN,MAAMmC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,S,sFCNUC,MAAM,sB,0EAAd,QAGS,SAHT,EAGS,EAFP,QAAuD,GAAzCC,GAAI,EAAAA,GAAID,MAAM,cAA5B,gBACA,OAAiB,mBAAX,EAAAE,MAAI,K,wBAOd,GACEtC,MAAO,CACLuC,KAAM,CAACrC,KAAM,CAACM,OAAQgC,QAASpC,UAAU,EAAOqC,QAAS,IAAM,OAC/DH,KAAM,CAACpC,KAAMM,OAAQJ,UAAU,IAEjCK,MAAOT,GACL,MAAMY,GAAQ,UACRyB,GAAK,SAAS,KAClB,GAAIzB,EAAM8B,MAAMC,SAAU,CACxB,MAAM,KAAEC,EAAF,OAAQ/B,EAAR,MAAgBgC,GAAUjC,EAAM8B,MAAMC,SAC5C,MAAO,CAAEC,KAAAA,EAAM/B,OAAAA,EAAQgC,MAAAA,GAEvB,OAAO7C,EAAMuC,QAGjB,MAAO,CACLF,GAAAA,K,UCnBN,MAAMH,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S,wFCCI,OAA0B,WAArB,mBAAe,G,qHATtB,QAWmB,GAVhBlC,GAAI,EAAAA,GACJI,SAAU,EAAAyC,SACVvC,kBAAmB,EAAAwC,QACnB,aAAY,EAAAC,YAJf,CAMaC,QAAM,SACf,IAA6E,EAA7E,QAA6E,GAAnDV,KAAM,oBAAuBD,KAAM,EAAAf,QAAQ2B,OAArE,oB,kBAEF,IAA0B,CAA1B,K,KATF,wD,4CAmBF,GACEC,WAAY,CACVC,gBADU,IAEVC,sBAAqB,KAEvBrD,MAAO,CACLC,GAAI,CAACG,UAAU,EAAMF,KAAMC,SAE7BM,MAAMT,GACJ,MAAMY,GAAQ,UAERkC,GAAW,SAAS,IAAMlC,EAAM8B,MAAMY,KAAKR,WAC3CvB,GAAU,QAAI,IACdyB,EAAa9B,IACjBK,EAAQgC,MAAQrC,GAEZ6B,GAAU,SAAS,IAAO,sBAAqBvC,OAAOR,EAAMC,SAElE,MAAO,CACL6C,SAAAA,EAAUvB,QAAAA,EAASwB,QAAAA,EACnBC,WAAAA,K,UCnCN,MAAMd,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,S,gKCLI,OAA2B,UAAvB,sBAAkB,K,qBAQ4B,Q,kIATpD,QAUM,YATJ,GACA,QAAe,GAEJ,EAAAqB,aAAA,WAAX,QAAwC,QAAjB,kBAAvB,WACA,QAEmB,M,MAFDZ,KAAK,eAAvB,C,kBACmB,IAAuB,gBAAxC,QAAgG,mBAAjE,EAAAE,UAAPW,K,WAAxB,QAAgG,GAAtDC,IAAKD,EAAIxD,GAAKsB,QAASkC,EAAKrB,MAAM,mBAA5E,gC,QAGF,QAAoE,GAAtDC,GAAE,OAAU,EAAAsB,mBAAkB,KAA5C,C,kBAAkD,IAAI,M,KAAtD,Y,8DCRIvB,MAAM,e,GACLA,MAAM,U,GACHA,MAAM,6B,GACNA,MAAM,2B,SAELwB,IAAI,0BAA0BC,MAAM,KAAKC,OAAO,M,SAChDF,IAAI,0BAA0BC,MAAM,KAAKC,OAAO,M,GAGhD1B,MAAM,e,0EAVjB,QAaU,WAbDA,MAAM,4BAA6BnC,GAAE,cAAgBO,OAAO,EAAAe,QAAQtB,KAA7E,EACE,OAA6G,KAA7G,EAA6G,EAArF,QAAgF,GAAlEoC,GAAI,EAAA0B,MAAI,C,kBAAE,IAAsB,mBAApBvD,OAAO,EAAAe,QAAQtB,KAAK,OAAG,QAAE,EAAAsB,QAAQ2B,OAAK,M,KAAhE,aACxB,OAOM,MAPN,EAOM,EANJ,OAAqE,OAArE,GAAqE,QAA3B,EAAA3B,QAAQyC,YAAU,IAC5D,OAA+D,OAA/D,GAA+D,QAAvB,EAAAzC,QAAQ0C,QAAM,IACtD,OAGO,QAHD7B,MAAM,cAAe,QAAK,oBAAE,EAAA8B,UAAA,EAAAA,YAAA,KAAlC,CACkE,EAAA3C,QAAQ4C,gBAAA,WAAxE,QAAuF,MAAvF,iBACA,QAAiE,MAAjE,SAGJ,OAEU,UAFV,GAEU,QADN,EAAAC,QAAM,IAXZ,KAmBF,OACEpE,MAAO,CACLuB,QAAS,CAACnB,UAAU,EAAMF,KAAMsC,SAElC/B,MAAMT,GACJ,MAAMY,GAAQ,UAERW,GAAU,SAAS,IAAMvB,EAAMuB,UAC/B6C,GAAS,SAAS,KACtB,MAAM9B,EAAOf,EAAQgC,MAAMc,QAC3B,IAAIC,EAAQhC,EAAKiC,QAAQ,MAIzB,OAHID,EAAQ,IACVA,EAAQ,GAEHhC,EAAKkC,MAAMF,EAAOA,EAAM,QAE3BP,GAAO,SAAS,IAAO,SAAQvD,OAAOe,EAAQgC,MAAMtD,QAEpDiE,EAAW,KACftD,EAAM6D,SAAS,sBAAuBlD,EAAQgC,MAAMtD,KAEtD,MAAO,CACLiE,SAAAA,EACAE,OAAAA,EAAQL,KAAAA,K,UCpCd,MAAM7B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,+DCPSE,MAAM,U,GAGNA,MAAM,U,GACJA,MAAM,kB,UAET,OAAwC,SAAjCsC,IAAI,aAAY,aAAS,K,GAE7BtC,MAAM,kB,UAET,OAAwC,SAAjCsC,IAAI,aAAY,aAAS,K,GAE7BtC,MAAM,kB,UAET,OAA0C,SAAnCsC,IAAI,eAAc,aAAS,K,GAE/BtC,MAAM,kB,UAET,OAA0C,SAAnCsC,IAAI,aAAY,eAAW,K,UAGtC,OAAmB,cAAX,MAAE,K,0CAtBZ,QAuBO,QAvBDtC,MAAM,iCAAkC,SAAM,oBAAE,EAAAuC,QAAA,EAAAA,UAAA,KAAtD,EACE,OAEM,MAFN,EAEM,WADJ,OAAuH,SAAhHzE,KAAK,OAAO0C,KAAK,OAAOgC,YAAY,WAAWxC,MAAM,wBAAwBnC,GAAG,U,qCAAmB,EAAAY,OAAOyB,KAAI,IAArH,iBAA0G,EAAAzB,OAAOyB,WAEnH,OAiBM,MAjBN,EAiBM,EAhBJ,OAGM,MAHN,EAGM,WAFJ,OAA2F,SAApFpC,KAAK,WAAW0C,KAAK,YAAYR,MAAM,GAAGnC,GAAG,Y,qCAAqB,EAAAY,OAAOgE,UAAS,IAAzF,iBAAyE,EAAAhE,OAAOgE,aAChF,KAEF,OAGM,MAHN,EAGM,WAFJ,OAA2F,SAApF3E,KAAK,WAAW0C,KAAK,YAAYR,MAAM,GAAGnC,GAAG,Y,qCAAqB,EAAAY,OAAOiE,UAAS,IAAzF,iBAAyE,EAAAjE,OAAOiE,aAChF,KAEF,OAGM,MAHN,EAGM,WAFJ,OAAiG,SAA1F5E,KAAK,WAAW0C,KAAK,cAAcR,MAAM,GAAGnC,GAAG,c,qCAAuB,EAAAY,OAAOkE,YAAW,IAA/F,iBAA6E,EAAAlE,OAAOkE,eACpF,KAEF,OAGM,MAHN,EAGM,WAFJ,OAA2F,SAApF7E,KAAK,WAAW0C,KAAK,YAAYR,MAAM,GAAGnC,GAAG,Y,qCAAqB,EAAAY,OAAOmE,UAAS,IAAzF,iBAAyE,EAAAnE,OAAOmE,aAChF,MAGJ,GAtBF,IA6BF,OACEpC,KAAM,aACNnC,QACE,MAAMwE,GAAS,UACTtE,GAAQ,UACRE,GAAS,QAAS,CACtBgE,WAAW,EACXC,WAAW,EACXC,aAAa,EACbC,WAAW,EACX1C,KAAM,GACN4C,KAAM,IAGFP,EAASQ,IACbA,EAAEC,iBAGF,MAAMvC,EAAQ,GACVhC,EAAOgE,YACThC,EAAMgC,WAAY,GAEhBhE,EAAOiE,YACTjC,EAAMiC,WAAY,GAEhBjE,EAAOkE,cACTlC,EAAMkC,aAAc,GAElBlE,EAAOmE,YACTnC,EAAMmC,WAAY,GAEhBnE,EAAOyB,KAAK+C,OAAS,IACvBxC,EAAMP,KAAOzB,EAAOyB,MAElBzB,EAAOqE,KAAO,IAChBrC,EAAMqC,KAAOrE,EAAOqE,MAGtBD,EAAOK,KAAK,CAAEzC,MAAAA,KAwBhB,OArBA,SAAU,KACJlC,EAAMkC,MAAMgC,WAAuC,SAA1BlE,EAAMkC,MAAMgC,YACvChE,EAAOgE,WAAY,GAEjBlE,EAAMkC,MAAMiC,WAAuC,SAA1BnE,EAAMkC,MAAMiC,YACvCjE,EAAOiE,WAAY,GAEjBnE,EAAMkC,MAAMkC,aAA2C,SAA5BpE,EAAMkC,MAAMkC,cACzClE,EAAOkE,aAAc,GAEnBpE,EAAMkC,MAAMmC,WAAuC,SAA1BrE,EAAMkC,MAAMmC,YACvCnE,EAAOmE,WAAY,GAEjBrE,EAAMkC,MAAMP,OACdzB,EAAOyB,KAAO3B,EAAMkC,MAAMP,MAExB3B,EAAMkC,MAAMqC,MAAQ/E,OAAOQ,EAAMkC,MAAMqC,MAAQ,IACjDrE,EAAOqE,KAAO/E,OAAOQ,EAAMkC,MAAMqC,UAI9B,CACLrE,OAAAA,EACA8D,OAAAA,KCvFN,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QJWA,GACExB,WAAY,CACVoC,cADU,EAEVC,WAAU,GAEZ/E,QACE,MAAMG,GAAQ,UACRD,GAAQ,WAEd,QAAMA,GAAO,KAAQ8E,OAErB,MAAM3C,GAAW,SAAS,IAAMlC,EAAM8B,MAAMY,KAAKR,WAC3CU,GAAa,SAAS,IAAM5C,EAAM8B,MAAMY,KAAKE,aAE7CkC,GAAa,SAAS,KAC1B,MAAM7C,EAAQ,GAmBd,OAlBIlC,EAAMkC,MAAMgC,WAAuC,SAA1BlE,EAAMkC,MAAMgC,YACvChC,EAAMgC,WAAY,GAEhBlE,EAAMkC,MAAMiC,WAAuC,SAA1BnE,EAAMkC,MAAMiC,YACvCjC,EAAMiC,WAAY,GAEhBnE,EAAMkC,MAAMkC,aAA2C,SAA5BpE,EAAMkC,MAAMkC,cACzClC,EAAMkC,aAAc,GAElBpE,EAAMkC,MAAMmC,WAAuC,SAA1BrE,EAAMkC,MAAMmC,YACvCnC,EAAMmC,WAAY,GAEhBrE,EAAMkC,MAAMP,OACdO,EAAMP,KAAO3B,EAAMkC,MAAMP,MAEvB3B,EAAMkC,MAAMqC,MAAQ/E,OAAOQ,EAAMkC,MAAMqC,MAAQ,IACjDrC,EAAMqC,KAAO/E,OAAOQ,EAAMkC,MAAMqC,OAE3BrC,KAGHc,EAAqBgC,IAClB,IACFD,EAAWnC,MACd2B,KAAMS,IAIJF,EAAgB,KACpB7E,EAAM6D,SACJ,0BAA2BiB,EAAWnC,QAU1C,OAN8B,IAA1BT,EAASS,MAAM8B,QACjBI,KAGF,SAAU,IAAMA,MAEV,CACJ3C,SAAAA,EAAUU,WAAAA,EACVG,mBAAAA,KKvEN,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASxB,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://front/./src/components/AbstractContent.vue","webpack://front/./src/components/AbstractContent.vue?c282","webpack://front/./src/components/AbstractContentHeader.vue","webpack://front/./src/components/AbstractContentHeader.vue?1714","webpack://front/./src/pages/mail/content.vue","webpack://front/./src/pages/mail/content.vue?58dd","webpack://front/./src/pages/mail/index.vue","webpack://front/./src/pages/mail/components/one-message-row.vue","webpack://front/./src/pages/mail/components/one-message-row.vue?1807","webpack://front/./src/pages/mail/components/search-form.vue","webpack://front/./src/pages/mail/components/search-form.vue?0e36","webpack://front/./src/pages/mail/index.vue?c700"],"sourcesContent":["<template>\r\n  <div v-if=\"status.loading\">\r\n    loading...\r\n  </div>\r\n  <div v-else-if=\"status.notFound\">\r\n    404\r\n  </div>\r\n  <div v-else-if=\"!status.loading && !status.loaded\">\r\n    please retry.\r\n    <button @click=\"reload\">再読み込み</button>\r\n  </div>\r\n  <div v-else-if=\"status.loaded\">\r\n    <slot name=\"header\" />\r\n    <slot />\r\n  </div>\r\n  <div v-else>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport axios from \"../utils/axios\";\r\nexport default {\r\n  props: {\r\n    id: {type: Number, required: true},\r\n    dataList: {type: Array, required: true},\r\n    oneContentAPIPath: {type: String, required: true},\r\n  },\r\n  setup(props, context) {\r\n    const route = useRoute();\r\n    const store = useStore();\r\n    const id = Number(route.params.id);\r\n\r\n    const status = reactive({\r\n      loading: true,\r\n      loaded: false,\r\n      notFound: false,\r\n    });\r\n\r\n    const loadAPI = () => {\r\n      axios.get(props.oneContentAPIPath).then(res => {\r\n        status.loaded = true;\r\n        const item = {...res.data};\r\n        context.emit(\"setContent\", item);\r\n      }).catch(error => {\r\n        if (error.message == \"Network Error\" && error.response === undefined) {\r\n          console.log(\"通信エラー\");\r\n        } else if (error.response.status === 500) {\r\n          status.loaded = true;\r\n          console.log(\"500\");\r\n        } else if (error.response.status === 403){\r\n          status.loaded = true;\r\n          status.notFound = true;\r\n        } else if (error.response.status === 404){\r\n          status.loaded = true;\r\n          status.notFound = true;\r\n        } else {\r\n          console.log(error.message);\r\n          store.commit(\"message/addMessage\", {\r\n            level: \"error\",\r\n            message: `予想外のエラーが帰ってきました。: ${error.message}`,\r\n            appname: \"abscractComtent\"\r\n          });\r\n        }\r\n      }).finally(() => {\r\n        status.loading = false;\r\n      });\r\n    };\r\n\r\n    if (props.dataList.some(item => Number(item.id) === id)) {\r\n      const item = {...props.dataList.find(item => Number(item.id) === id)};\r\n      context.emit(\"setContent\", item);\r\n      status.loading = false;\r\n      status.loaded = true;\r\n    } else {\r\n      loadAPI();\r\n    }\r\n\r\n    const reload = () => loadAPI();\r\n\r\n    return {\r\n      status,\r\n      reload\r\n    };\r\n  },\r\n};\r\n</script>","import { render } from \"./AbstractContent.vue?vue&type=template&id=4265708c\"\nimport script from \"./AbstractContent.vue?vue&type=script&lang=js\"\nexport * from \"./AbstractContent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Hashizume\\\\Documents\\\\UnpluggedMessage\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <header class=\"row content-header\">\r\n    <router-link :to=\"to\" class=\"back-arrow\"></router-link>\r\n    <h3>{{text}}</h3>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport { useStore } from \"vuex\";\r\nimport { computed } from \"vue\";\r\nexport default {\r\n  props: {\r\n    path: {type: [String, Object], required: false, default: () => \"../\"},\r\n    text: {type: String, required: true}\r\n  },\r\n  setup (props) {\r\n    const store = useStore();\r\n    const to = computed(() => {\r\n      if (store.state.lastPath) {\r\n        const { name, params, query } = store.state.lastPath;\r\n        return { name, params, query };\r\n      } else {\r\n        return props.path;\r\n      }\r\n    });\r\n    return {\r\n      to\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content-header{\r\n  display: flex;\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 2rem;\r\n  width: 100%;\r\n}\r\n.content-header h3{\r\n  font-size: 1.5rem;\r\n\r\n}\r\n.back-arrow{\r\n  height: 24px;\r\n  width: 24px;\r\n  display: block;\r\n  position: relative;\r\n  overflow: hidden;\r\n  margin: 3px 0.5rem 3px 0.25rem;\r\n}\r\n.back-arrow:before{\r\n  content: '';\r\n  height: 12px;\r\n  width: 12px;\r\n  display: block;\r\n  border: 1px solid #333;\r\n  border-right-width: 0;\r\n  border-bottom-width: 0;\r\n  transform: rotate(-45deg);\r\n  -webkit-transform: rotate(-45deg);\r\n  -moz-transform: rotate(-45deg);\r\n  -o-transform: rotate(-45deg);\r\n  -ms-transform: rotate(-45deg);\r\n  position: absolute;\r\n  top: 5px;\r\n  left: 5px;\r\n}\r\n.back-arrow:after{\r\n  content: '';\r\n  height: 1px;\r\n  width: 20px;\r\n  display: block;\r\n  background: #333;\r\n  position: absolute;\r\n  top: 10.5px;\r\n  left: 3px;\r\n}\r\n</style>","import { render } from \"./AbstractContentHeader.vue?vue&type=template&id=9d2f4924&scoped=true\"\nimport script from \"./AbstractContentHeader.vue?vue&type=script&lang=js\"\nexport * from \"./AbstractContentHeader.vue?vue&type=script&lang=js\"\n\nimport \"./AbstractContentHeader.vue?vue&type=style&index=0&id=9d2f4924&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Hashizume\\\\Documents\\\\UnpluggedMessage\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9d2f4924\"]])\n\nexport default __exports__","<template>\r\n  <abstract-content\r\n    :id=\"id\"\r\n    :dataList=\"messages\"\r\n    :oneContentAPIPath=\"apiPath\"\r\n    @setContent=\"setMessage\"\r\n  >\r\n    <template #header>\r\n      <abstract-content-header :path=\"{name: 'mail:index'}\" :text=\"message.title\"/>\r\n    </template>\r\n    <div>content example</div>\r\n  \r\n  </abstract-content>\r\n</template>\r\n\r\n<script>\r\nimport AbstractContent from \"../../components/AbstractContent.vue\";\r\nimport AbstractContentHeader from \"../../components/AbstractContentHeader.vue\";\r\nimport { computed, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    AbstractContent,\r\n    AbstractContentHeader\r\n  },\r\n  props: {\r\n    id: {required: true, type: Number}\r\n  },\r\n  setup(props) {\r\n    const store = useStore();\r\n    // for AbstractContent.vue\r\n    const messages = computed(() => store.state.read.messages);\r\n    const message = ref({});\r\n    const setMessage = item => {\r\n      message.value = item;\r\n    };\r\n    const apiPath = computed(() => `/api/board/content/${String(props.id)}/`);\r\n\r\n    return {\r\n      messages, message, apiPath, \r\n      setMessage\r\n    };\r\n  },\r\n};\r\n</script>","import { render } from \"./content.vue?vue&type=template&id=4f4b5aa8\"\nimport script from \"./content.vue?vue&type=script&lang=js\"\nexport * from \"./content.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Hashizume\\\\Documents\\\\UnpluggedMessage\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <h1>mail/read - search</h1>\r\n    <search-form />\r\n    \r\n    <div v-if=\"nowLoading\">now loading</div>\r\n    <transition-group name=\"message-row\" v-else>\r\n      <one-message-row v-for=\"mes in messages\" :key=\"mes.id\" :message=\"mes\" class=\"one-message-row\" />\r\n    </transition-group>\r\n\r\n    <router-link :to=\"{query: differentPageQuery(2)}\">Next</router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted, watch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRoute } from \"vue-router\";\r\nimport oneMessageRow from \"./components/one-message-row.vue\";\r\nimport searchForm from \"./components/search-form.vue\";\r\nexport default {\r\n  components: {\r\n    oneMessageRow,\r\n    searchForm\r\n  },\r\n  setup() {\r\n    const store = useStore();\r\n    const route = useRoute();\r\n\r\n    watch(route, () => { updateMessage(); });\r\n\r\n    const messages = computed(() => store.state.read.messages);\r\n    const nowLoading = computed(() => store.state.read.nowLoading);\r\n\r\n    const cleanQuery = computed(() => {\r\n      const query = {};\r\n      if (route.query.is_kaisei && route.query.is_kaisei === \"true\") {\r\n        query.is_kaisei = true;\r\n      }\r\n      if (route.query.is_zenkai && route.query.is_zenkai === \"true\") {\r\n        query.is_zenkai = true;\r\n      }\r\n      if (route.query.is_bookmark && route.query.is_bookmark === \"true\") {\r\n        query.is_bookmark = true;\r\n      }\r\n      if (route.query.is_sender && route.query.is_sender === \"true\") {\r\n        query.is_sender = true;\r\n      }\r\n      if (route.query.text) {\r\n        query.text = route.query.text;\r\n      }\r\n      if (route.query.page && Number(route.query.page) > 1) {\r\n        query.page = Number(route.query.page);\r\n      }\r\n      return query;\r\n    });\r\n\r\n    const differentPageQuery = pageNum => {\r\n      return {\r\n        ...cleanQuery.value,\r\n        page: pageNum\r\n      };\r\n    };\r\n\r\n    const updateMessage = () => {\r\n      store.dispatch(\r\n        \"read/getMessagesFromAPI\", cleanQuery.value\r\n      );\r\n    };\r\n\r\n    if (messages.value.length === 0) {\r\n      updateMessage();\r\n    }\r\n    \r\n    onMounted(() => updateMessage());\r\n\r\n    return{\r\n      messages, nowLoading,\r\n      differentPageQuery\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.one-message-row{\r\n  display: block;\r\n}\r\n.message-row-leave-active{\r\n  position: absolute;\r\n}\r\n.message-row-move{\r\n  transition: all 0.5s;\r\n}\r\n/* .message-row-enter-active{\r\n  transition: all 5s;\r\n}\r\n.message-row-enter{\r\n  opacity: 0;\r\n}\r\n.message-row-enter-to{\r\n  opacity: 1;\r\n} */\r\n</style>","<template>\r\n  <section class=\"content row border-bottom\" :id=\"'message-id-'+String(message.id)\">\r\n    <h4 class=\"col-12 my-1\"><router-link :to=\"link\">{{String(message.id)}} - {{message.title}}</router-link></h4>\r\n    <div class=\"col-12\">\r\n      <span class=\"float-left date small p-1\">{{message.created_at}}</span>\r\n      <span class=\"float-left ml-4 whosent\">{{message.writer}}</span>\r\n      <span class=\"float-right\" @click=\"bookmark\">\r\n        <img src=\"/static/img/star_yl.png\" width=\"16\" height=\"16\" v-if=\"message.is_bookmarked\">\r\n        <img src=\"/static/img/star_bk.png\" width=\"16\" height=\"16\" v-else>\r\n      </span>\r\n    </div>\r\n    <article class=\"col-12 my-2\">\r\n      {{trimed}}\r\n    </article>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    message: {required: true, type: Object}\r\n  },\r\n  setup(props) {\r\n    const store = useStore();\r\n\r\n    const message = computed(() => props.message);\r\n    const trimed = computed(() => {\r\n      const text = message.value.content;\r\n      let count = text.indexOf(\"\\n\");\r\n      if (count < 0) {\r\n        count = 0;\r\n      }\r\n      return text.slice(count, count+200);\r\n    });\r\n    const link = computed(() => `/mail/${String(message.value.id)}`);\r\n\r\n    const bookmark = () => {\r\n      store.dispatch(\"read/toggleBookmark\", message.value.id);\r\n    };\r\n    return {\r\n      bookmark,\r\n      trimed, link\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content article{\r\n  display: block;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\nsection h4 a{\r\n\tcolor: #0058B3;\r\n}\r\nsection:hover h4 a{\r\n\tcolor: #0058B3;\r\n}\r\n</style>","import { render } from \"./one-message-row.vue?vue&type=template&id=194b953b&scoped=true\"\nimport script from \"./one-message-row.vue?vue&type=script&lang=js\"\nexport * from \"./one-message-row.vue?vue&type=script&lang=js\"\n\nimport \"./one-message-row.vue?vue&type=style&index=0&id=194b953b&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Hashizume\\\\Documents\\\\UnpluggedMessage\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-194b953b\"]])\n\nexport default __exports__","<template>\r\n  <form class=\"content row pb-3 border-bottom\" @submit=\"submit\">\r\n    <div class=\"col-12\">\r\n      <input type=\"text\" name=\"text\" placeholder=\"件名・本文で検索\" class=\"form-control formtext\" id=\"id_text\" v-model=\"params.text\">\r\n    </div>\r\n    <div class=\"col-12\">\r\n      <div class=\"d-inline-block\">\r\n        <input type=\"checkbox\" name=\"is_kaisei\" class=\"\" id=\"is_kaisei\" v-model=\"params.is_kaisei\">\r\n        <label for=\"is_kaisei\">回生メーリスのみ:</label>\r\n      </div>\r\n      <div class=\"d-inline-block\">\r\n        <input type=\"checkbox\" name=\"is_zenkai\" class=\"\" id=\"is_zenkai\" v-model=\"params.is_zenkai\">\r\n        <label for=\"is_zenkai\">全回メーリスのみ:</label>\r\n      </div>\r\n      <div class=\"d-inline-block\">\r\n        <input type=\"checkbox\" name=\"is_bookmark\" class=\"\" id=\"is_bookmark\" v-model=\"params.is_bookmark\">\r\n        <label for=\"is_bookmark\">ブックマークのみ:</label>\r\n      </div>\r\n      <div class=\"d-inline-block\">\r\n        <input type=\"checkbox\" name=\"is_sender\" class=\"\" id=\"is_sender\" v-model=\"params.is_sender\">\r\n        <label for=\"is_sender\">送信したメーリスのみ:</label>\r\n      </div>\r\n    </div>\r\n    <button>検索</button>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, reactive } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nexport default {\r\n  name: \"searchform\",\r\n  setup() {\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const params = reactive({\r\n      is_kaisei: false,\r\n      is_zenkai: false,\r\n      is_bookmark: false,\r\n      is_sender: false,\r\n      text: \"\",\r\n      page: 1,\r\n    });\r\n\r\n    const submit = e => {\r\n      e.preventDefault();\r\n\r\n      // clean params\r\n      const query = {};\r\n      if (params.is_kaisei) {\r\n        query.is_kaisei = true;\r\n      }\r\n      if (params.is_zenkai) {\r\n        query.is_zenkai = true;\r\n      }\r\n      if (params.is_bookmark) {\r\n        query.is_bookmark = true;\r\n      }\r\n      if (params.is_sender) {\r\n        query.is_sender = true;\r\n      }\r\n      if (params.text.length > 0) {\r\n        query.text = params.text;\r\n      }\r\n      if (params.page > 1) {\r\n        query.page = params.page;\r\n      }\r\n\r\n      router.push({ query });\r\n    };\r\n\r\n    onMounted(() => {\r\n      if (route.query.is_kaisei && route.query.is_kaisei === \"true\") {\r\n        params.is_kaisei = true;\r\n      }\r\n      if (route.query.is_zenkai && route.query.is_zenkai === \"true\") {\r\n        params.is_zenkai = true;\r\n      }\r\n      if (route.query.is_bookmark && route.query.is_bookmark === \"true\") {\r\n        params.is_bookmark = true;\r\n      }\r\n      if (route.query.is_sender && route.query.is_sender === \"true\") {\r\n        params.is_sender = true;\r\n      }\r\n      if (route.query.text) {\r\n        params.text = route.query.text;\r\n      }\r\n      if (route.query.page && Number(route.query.page) > 1) {\r\n        params.page = Number(route.query.page);\r\n      }\r\n    });\r\n\r\n    return {\r\n      params,\r\n      submit\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\ninput.formtext{\r\n  display: inline-block;\r\n  width: 100%;\r\n  max-width: 30rem;\r\n}\r\n\r\ninput[type=\"checkbox\"]{\r\n  display: none;\r\n}\r\n\r\nlabel{\r\n    display: inline-block;\r\n    position: relative;\r\n    height: 1rem;\r\n    padding: 0.5rem 3rem 1rem 0;\r\n    margin: 0 0 0.5rem;\r\n    font-size: 0.7rem;\r\n    line-height: 0.7rem;\r\n}\r\nlabel:before{\r\n  display: inline-block;\r\n  content: \"\";\r\n  position: absolute;\r\n    right: 0.4rem;\r\n    top: 0.3rem;\r\n  width: 2.4rem;\r\n  height: 1.2rem;\r\n  margin: 0;\r\n  padding: 0;\r\n  border: 1px solid #999;\r\n  border-radius: 1rem;\r\n  transition: 0.2s;\r\n}\r\nlabel:after{\r\n  display: block;\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 0.44rem;\r\n  right: 1.7rem;\r\n  width: 0.9rem;\r\n  height: 0.9rem;\r\n  border-radius: 0.75rem;\r\n  background-color: #999;\r\n  transition: 0.2s;\r\n}\r\ninput:checked + label:before{\r\n  border-color: #0ee08a;\r\n}\r\ninput:checked + label:after{\r\n  right: 0.62rem;\r\n  background-color: #0ee08a;\r\n}\r\n\r\n</style>","import { render } from \"./search-form.vue?vue&type=template&id=c03d327e&scoped=true\"\nimport script from \"./search-form.vue?vue&type=script&lang=js\"\nexport * from \"./search-form.vue?vue&type=script&lang=js\"\n\nimport \"./search-form.vue?vue&type=style&index=0&id=c03d327e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Hashizume\\\\Documents\\\\UnpluggedMessage\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c03d327e\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=66a9dc5f&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=66a9dc5f&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Hashizume\\\\Documents\\\\UnpluggedMessage\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-66a9dc5f\"]])\n\nexport default __exports__"],"names":["status","loading","notFound","loaded","reload","props","id","type","Number","required","dataList","Array","oneContentAPIPath","String","setup","context","route","store","params","loadAPI","axios","then","res","item","data","emit","catch","error","message","undefined","response","console","log","commit","level","appname","finally","some","find","__exports__","render","class","to","text","path","Object","default","state","lastPath","name","query","messages","apiPath","setMessage","header","title","components","AbstractContent","AbstractContentHeader","read","value","nowLoading","mes","key","differentPageQuery","src","width","height","link","created_at","writer","bookmark","is_bookmarked","trimed","content","count","indexOf","slice","dispatch","for","submit","placeholder","is_kaisei","is_zenkai","is_bookmark","is_sender","router","page","e","preventDefault","length","push","oneMessageRow","searchForm","updateMessage","cleanQuery","pageNum"],"sourceRoot":""}