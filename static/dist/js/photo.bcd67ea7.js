"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[17],{3655:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});var s=a(6252),l=a(3577);const r=e=>((0,s.dD)("data-v-5d20ee12"),e=e(),(0,s.Cn)(),e),n=r((()=>(0,s._)("h3",null,"写真",-1))),o=r((()=>(0,s._)("p",{class:"py-2"},[(0,s.Uk)(" アンプラのイベントの写真を公開しています。"),(0,s._)("br"),(0,s.Uk)(" LiveLogに登録されていないBBQやお花見のイベントの写真もあります！ ")],-1))),i={key:0,class:"row"},c=r((()=>(0,s._)("a",{href:"/admin/pictures/album/"},"アルバムの登録・編集はこちらから",-1))),d=[c],u={class:"col-12"},h={class:"card"},p=["src"],m=["href"],f=["textContent"];function g(e,t,a,r,c,g){return(0,s.wg)(),(0,s.iD)("section",null,[n,o,r.photoStaff?((0,s.wg)(),(0,s.iD)("div",i,d)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.yearsSet,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"row"},[(0,s._)("h4",u,(0,l.zw)(e)+"年度",1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.getItems(e),(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"cardwrap col-6 col-xs-6 col-sm-6 col-md-4 col-lg-3 my-2"},[(0,s._)("article",h,[(0,s._)("img",{class:"card-img-top",src:r.thumbnailPath(e)},null,8,p),(0,s._)("a",{href:e.url,class:"card-img-overlay",target:"_blank"},[(0,s._)("h5",{class:"card-title",textContent:(0,l.zw)(e.title)},null,8,f),(0,s._)("span",null,(0,l.zw)(r.displayDate(e.date)),1)],8,m)])])))),128))])))),128))])}var w=a(5492),y=a(2262),_=a(8042),v=a(8410),k={setup(){const e=(0,v.oR)(),t=(0,y.qj)([]);_.Z.get("/api/photo/").then((e=>{t.length=0,t.push(...e.data.photos)})).catch((t=>{console.error(t.response),e.commit("message/addMessage",{level:"warning",message:"アルバムを取得できませんでした。",appname:"photos/index"})}));const a=(0,y.Fl)((()=>t.map((e=>{const t=(0,w.Z)(e.date);let a=0;return a=t.isBefore((0,w.Z)().set({year:t.year(),month:3,day:1}))?t.year()-1:t.year(),a})))),s=(0,y.Fl)((()=>a.value.filter(((e,t,a)=>a.indexOf(e)===t)).reverse())),l=e=>t.filter((t=>(0,w.Z)(t.date).isBetween((0,w.Z)(`${e}-04-01`),(0,w.Z)(`${e+1}-04-01`),void 0,"[)"))).reverse(),r=e=>(0,w.Z)(e).format("YYYY/MM/DD"),n=e=>e.thumbnail?e.thumbnail:"/static/img/album_thum_default.jpg",o=(0,y.Fl)((()=>e.state.user.is_staff));return{photos:t,years:a,yearsSet:s,photoStaff:o,getItems:l,displayDate:r,thumbnailPath:n}}},D=a(3744);const b=(0,D.Z)(k,[["render",g],["__scopeId","data-v-5d20ee12"]]);var Z=b}}]);
//# sourceMappingURL=photo.bcd67ea7.js.map