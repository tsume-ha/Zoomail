"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[767],{9515:function(a,t,n){n.d(t,{Z:function(){return d}});var e=n(6252);const l={key:0},o={key:1};function i(a,t,n,i,s,r){return i.loading?((0,e.wg)(),(0,e.iD)("div",l,"loading")):((0,e.wg)(),(0,e.iD)("div",o,[(0,e.WI)(a.$slots,"default")]))}var s=n(2262),r=n(8410),m={setup(){const a=(0,r.oR)(),t=(0,s.Fl)((()=>a.state.mypage.loading));return{loading:t}}},u=n(3744);const c=(0,u.Z)(m,[["render",i]]);var d=c},8929:function(a,t,n){n.r(t),n.d(t,{default:function(){return x}});var e=n(6252);const l=(0,e._)("h4",null,"登録情報",-1),o=(0,e.Uk)("登録情報変更"),i=(0,e.Uk)("メーリス受信設定"),s=(0,e.Uk)("メーリス受信テスト"),r=(0,e.Uk)("LiveLog・Google認証"),m=(0,e._)("h4",null,"ログアウト",-1),u=(0,e.Uk)("ログアウトする"),c={key:0},d=(0,e._)("h4",null,"ユーザー登録",-1),g=(0,e.Uk)("ユーザー登録フォーム"),p={key:1},f=(0,e._)("h4",null,"管理サイト",-1),_=(0,e._)("a",{href:"/admin/"},"Zoomail 管理者用サイト",-1),y=[f,_];function b(a,t,n,f,_,b){const k=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("main",null,[(0,e._)("section",null,[l,(0,e.Wm)(k,{to:{name:"mypage:profile"}},{default:(0,e.w5)((()=>[o])),_:1}),(0,e.Wm)(k,{to:{name:"mypage:mail-settings"}},{default:(0,e.w5)((()=>[i])),_:1}),(0,e.Wm)(k,{to:{name:"mypage:mail-test"}},{default:(0,e.w5)((()=>[s])),_:1}),(0,e.Wm)(k,{to:{name:"mypage:oauth"}},{default:(0,e.w5)((()=>[r])),_:1})]),(0,e._)("section",null,[m,(0,e.Wm)(k,{to:"/"},{default:(0,e.w5)((()=>[u])),_:1})]),f.permissions.canRegisterUser?((0,e.wg)(),(0,e.iD)("section",c,[d,(0,e.Wm)(k,{to:"/"},{default:(0,e.w5)((()=>[g])),_:1})])):(0,e.kq)("",!0),f.permissions.canEnterAdmin?((0,e.wg)(),(0,e.iD)("section",p,y)):(0,e.kq)("",!0)])}var k=n(2262),w=n(8410),h={setup(){const a=(0,w.oR)(),t=(0,k.qj)({canRegisterUser:!1,canEnterAdmin:!1}),n=()=>{const n=a.state.user;n.is_staff?t.canEnterAdmin=!0:t.canEnterAdmin=!1};return(0,e.bv)((()=>n())),{permissions:t}}},v=n(3744);const D=(0,v.Z)(h,[["render",b]]);var x=D},8301:function(a,t,n){n.r(t),n.d(t,{default:function(){return k}});var e=n(6252),l=n(9963);const o={class:"form-group"},i=(0,e._)("label",{for:"id_last_name"},"受信用メールアドレス:",-1),s=(0,e._)("p",{class:"small text-secondary"},[(0,e.Uk)(" メーリスを受信するメールアドレスを指定してください。"),(0,e._)("br"),(0,e.Uk)(" 空白の場合は、ログインに用いるGmailアドレスか、 LiveLogアカウントに登録されたメールアドレスになります。 ")],-1),r={class:"form-group"},m=(0,e._)("label",{for:"id_send_mail",class:""},"メーリスを受信する:",-1),u=(0,e._)("p",{class:"small text-secondary"},[(0,e.Uk)(" メーリスを受け取りたくない場合はチェックを外してください。"),(0,e._)("br"),(0,e.Uk)(" チェックが外されると、全回・回生メーリスともに送信されないようになりますが、"),(0,e._)("br"),(0,e.Uk)(" このサイトにログインし、メーリスを確認することは出来ます。 ")],-1),c=(0,e._)("button",{type:"submit",class:"btn btn-info mx-2 my-3"}," 更新 ",-1);function d(a,t,n,d,g,p){const f=(0,e.up)("abstract-setting");return(0,e.wg)(),(0,e.j4)(f,{loading:d.loading},{default:(0,e.w5)((()=>[(0,e._)("form",{onSubmit:t[2]||(t[2]=(...a)=>d.submit&&d.submit(...a))},[(0,e._)("div",o,[i,(0,e.wy)((0,e._)("input",{type:"email",name:"last_name","onUpdate:modelValue":t[0]||(t[0]=a=>d.formData.receiveEmail=a),maxlength:"254",class:"form-control",required:"false",id:"id_last_name"},null,512),[[l.nr,d.formData.receiveEmail]]),s]),(0,e._)("div",r,[m,(0,e.wy)((0,e._)("input",{type:"checkbox",name:"send_mail","onUpdate:modelValue":t[1]||(t[1]=a=>d.formData.sendMail=a),class:"mx-2",id:"id_send_mail"},null,512),[[l.e8,d.formData.sendMail]]),u]),c],32)])),_:1},8,["loading"])}var g=n(2262),p=n(8410),f=n(9515),_={components:{AbstractSetting:f.Z},setup(){const a=(0,p.oR)(),t=(0,g.qj)({receiveEmail:"",sendMail:!0}),n=(0,g.Fl)((()=>a.state.mypage.loading));(0,e.bv)((()=>{const n=a.state.mypage.userInfo;t.receiveEmail=n.receiveEmail,t.sendMail=n.sendMail}));const l=n=>{n.preventDefault();const e=new FormData;e.append("receive_email",t.receiveEmail),e.append("send_mail",t.sendMail),a.dispatch("mypage/post",{path:"/api/mypage/mail-settings/",formData:e})};return{formData:t,loading:n,submit:l}}},y=n(3744);const b=(0,y.Z)(_,[["render",d]]);var k=b},9866:function(a,t,n){n.r(t),n.d(t,{default:function(){return h}});var e=n(6252),l=n(3577),o=n(9963);const i={class:"mt-4 mb-2"},s=(0,e._)("span",{class:"mb-2"},"現在設定されているメールアドレス",-1),r=(0,e._)("br",null,null,-1),m={key:0},u={key:1},c={class:"mb-3"},d=(0,e._)("p",{class:"small"},[(0,e.Uk)(" メーリスがきちんと受信できるか確かめるために、テストメールを送信します。"),(0,e._)("br"),(0,e.Uk)(" テストメールの送信は5分に1回行うことができます。 ")],-1),g=(0,e.Uk)("戻る");function p(a,t,n,p,f,_){const y=(0,e.up)("router-link"),b=(0,e.up)("abstract-setting");return(0,e.wg)(),(0,e.j4)(b,{loading:p.loading},{default:(0,e.w5)((()=>[(0,e._)("section",null,[(0,e._)("div",i,[s,r,p.showEmailAddress?((0,e.wg)(),(0,e.iD)("span",m,(0,l.zw)(p.receiveEmail),1)):((0,e.wg)(),(0,e.iD)("span",u," ****************** "))]),(0,e._)("div",c,[p.showEmailAddress?((0,e.wg)(),(0,e.iD)("button",{key:0,onClick:t[0]||(t[0]=a=>p.showEmailAddress=!1),class:"btn btn-sm btn-light"},"メールアドレスを隠す")):((0,e.wg)(),(0,e.iD)("button",{key:1,onClick:t[1]||(t[1]=a=>p.showEmailAddress=!0),class:"btn btn-sm btn-light"},"メールアドレスを表示する"))]),d,(0,e.Wm)(y,{to:"../",class:"btn btn-secondary mx-2 my-3"},{default:(0,e.w5)((()=>[g])),_:1}),(0,e._)("button",{onClick:t[2]||(t[2]=(0,o.iM)(((...a)=>p.send&&p.send(...a)),["prevent"])),class:"btn btn-info mx-2 my-3"}," 送信する ")])])),_:1},8,["loading"])}var f=n(2262),_=n(8410),y=n(9515),b={components:{AbstractSetting:y.Z},setup(){const a=(0,_.oR)(),t=(0,f.iH)(!1),n=(0,f.Fl)((()=>a.state.mypage.userInfo.receiveEmail)),e=(0,f.Fl)((()=>a.state.mypage.loading)),l=()=>{const t=new FormData;t.append("send",!0),a.dispatch("mypage/post",{path:"/api/mypage/mail-test/",formData:t})};return{receiveEmail:n,showEmailAddress:t,loading:e,send:l}}},k=n(3744);const w=(0,k.Z)(b,[["render",p]]);var h=w},2711:function(a,t,n){n.r(t),n.d(t,{default:function(){return F}});var e=n(6252);const l=(0,e._)("p",null,"認証を行ったサービスのアカウントでログインすることが出来ます。",-1),o={class:"table"},i=(0,e._)("td",null,"Google",-1),s={key:0,class:"text-success"},r={key:1,href:"/auth/login/google-oauth2?next=/mypage/oauth/"},m={key:0},u={key:1},c=(0,e._)("span",null,"紐付けを解除するまえに、もう一度LiveLogへログインしてください",-1),d=[c],g=(0,e._)("td",null,"LiveLog",-1),p={key:0,class:"text-success"},f={key:1,href:"/auth/login/auth0?next=/mypage/oauth/"},_={key:0},y={key:1},b=(0,e._)("a",{href:"/auth/login/auth0?next=/mypage/oauth/"}," LiveLogにログイン ",-1),k=[b],w=(0,e.Uk)("戻る");function h(a,t,n,c,b,h){const v=(0,e.up)("router-link"),D=(0,e.up)("abstract-setting");return(0,e.wg)(),(0,e.j4)(D,{loading:c.loading},{default:(0,e.w5)((()=>[(0,e._)("section",null,[l,(0,e._)("table",o,[(0,e._)("tbody",null,[(0,e._)("tr",null,[i,(0,e._)("td",null,[c.googleOauth2?((0,e.wg)(),(0,e.iD)("span",s,"認証しています")):((0,e.wg)(),(0,e.iD)("a",r,"認証する"))]),c.googleOauth2&&c.livelogAuth0?((0,e.wg)(),(0,e.iD)("td",m,[(0,e._)("a",{onClick:t[0]||(t[0]=(...a)=>c.unlink&&c.unlink(...a)),class:"text-warning"},"紐付けを解除する")])):((0,e.wg)(),(0,e.iD)("td",u,d))]),(0,e._)("tr",null,[g,(0,e._)("td",null,[c.livelogAuth0?((0,e.wg)(),(0,e.iD)("span",p,"認証しています")):((0,e.wg)(),(0,e.iD)("a",f," 認証する "))]),c.googleOauth2&&c.livelogAuth0?((0,e.wg)(),(0,e.iD)("td",_)):((0,e.wg)(),(0,e.iD)("td",y,k))])])]),(0,e.Wm)(v,{to:{name:"mypage:index"},class:"btn btn-secondary mr-4"},{default:(0,e.w5)((()=>[w])),_:1})])])),_:1},8,["loading"])}var v=n(2262),D=n(8410),x=n(9515),U={components:{AbstractSetting:x.Z},setup(){const a=(0,D.oR)(),t=(0,v.Fl)((()=>a.state.mypage.loading)),n=(0,v.Fl)((()=>a.state.mypage.userInfo.livelogAuth0)),e=(0,v.Fl)((()=>a.state.mypage.userInfo.googleOauth2)),l=()=>{const t=new FormData;t.append("unlink",!0),a.dispatch("mypage/post",{path:"/api/mypage/google-unlink/",formData:t})};return{loading:t,livelogAuth0:n,googleOauth2:e,unlink:l}}},A=n(3744);const E=(0,A.Z)(U,[["render",h]]);var F=E},5741:function(a,t,n){n.r(t),n.d(t,{default:function(){return h}});var e=n(6252),l=n(9963);const o={class:"form-group row"},i=(0,e._)("label",{for:"id_last_name"},"名字:",-1),s={class:"form-group row"},r=(0,e._)("label",{for:"id_first_name"},"名前:",-1),m={class:"form-group row"},u=(0,e._)("label",{for:"id_furigana"},"ふりがな:",-1),c={class:"form-group row"},d=(0,e._)("label",{for:"id_nickname"},"ニックネーム:",-1),g=(0,e._)("li",null,[(0,e._)("button",{type:"submit",class:"btn btn-info mx-2 my-3"}," 更新 ")],-1);function p(a,t,n,p,f,_){const y=(0,e.up)("abstract-setting");return(0,e.wg)(),(0,e.j4)(y,{loading:p.loading},{default:(0,e.w5)((()=>[(0,e._)("form",{onSubmit:t[4]||(t[4]=(...a)=>p.submit&&p.submit(...a))},[(0,e._)("ul",null,[(0,e._)("li",o,[i,(0,e.wy)((0,e._)("input",{type:"text",name:"last_name","onUpdate:modelValue":t[0]||(t[0]=a=>p.formData.lastName=a),maxlength:"255",class:"form-control",required:"",id:"id_last_name"},null,512),[[l.nr,p.formData.lastName]])]),(0,e._)("li",s,[r,(0,e.wy)((0,e._)("input",{type:"text",name:"first_name","onUpdate:modelValue":t[1]||(t[1]=a=>p.formData.firstName=a),maxlength:"255",class:"form-control",required:"",id:"id_first_name"},null,512),[[l.nr,p.formData.firstName]])]),(0,e._)("li",m,[u,(0,e.wy)((0,e._)("input",{type:"text",name:"furigana","onUpdate:modelValue":t[2]||(t[2]=a=>p.formData.furigana=a),maxlength:"255",class:"form-control",required:"",id:"id_furigana"},null,512),[[l.nr,p.formData.furigana]])]),(0,e._)("li",c,[d,(0,e.wy)((0,e._)("input",{type:"text",name:"nickname","onUpdate:modelValue":t[3]||(t[3]=a=>p.formData.nickname=a),maxlength:"255",class:"form-control",id:"id_nickname"},null,512),[[l.nr,p.formData.nickname]])]),g])],32)])),_:1},8,["loading"])}var f=n(2262),_=n(8410),y=n(9515),b={components:{AbstractSetting:y.Z},setup(){const a=(0,_.oR)(),t=(0,f.qj)({lastName:"",firstName:"",furigana:"",nickname:""}),n=(0,f.Fl)((()=>a.state.mypage.loading));(0,e.bv)((()=>{const n=a.state.mypage.userInfo;t.lastName=n.lastName,t.firstName=n.firstName,t.furigana=n.furigana,t.nickname=n.nickname}));const l=n=>{n.preventDefault();const e=new FormData;e.append("last_name",t.lastName),e.append("first_name",t.firstName),e.append("furigana",t.furigana),e.append("nickname",t.nickname),a.dispatch("mypage/post",{path:"/api/mypage/profile/",formData:e})};return{formData:t,loading:n,submit:l}}},k=n(3744);const w=(0,k.Z)(b,[["render",p]]);var h=w}}]);
//# sourceMappingURL=mypage.8ee63b5e.js.map