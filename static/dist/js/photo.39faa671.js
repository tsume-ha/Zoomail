"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[17],{6414:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var s=a(6252),r=a(3577),l=a(7688);const n=e=>((0,s.dD)("data-v-1f755952"),e=e(),(0,s.Cn)(),e),o=n((()=>(0,s._)("h3",null,"写真",-1))),i=n((()=>(0,s._)("p",null,[(0,s.Uk)(" アンプラのイベントの写真を公開しています。"),(0,s._)("br"),(0,s.Uk)(" LiveLogに登録されていないBBQやお花見のイベントの写真もあります! ")],-1))),u={class:"pure-g"},p=["href"],c=["src","alt"],d=["alt"],h={class:"photo-title"},g={class:"photo-date"};function f(e,t,a,n,f,m){return(0,s.wg)(),(0,s.iD)("article",null,[o,i,(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.photos,(e=>((0,s.wg)(),(0,s.iD)("div",{key:"photo-"+e.id,class:"pure-u-1-2 pure-u-sm-1-3 pure-u-md-1-4 pure-u-lg-1-5 card-wrapper"},[(0,s._)("a",{href:e.url,class:"card-photo",target:"_blank"},[e.thumbnail?((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.thumbnail,alt:`${e.title} - サムネイル`,class:"pure-img"},null,8,c)):((0,s.wg)(),(0,s.iD)("img",{key:1,src:l,alt:`${e.title} - サムネイル`,class:"pure-img"},null,8,d)),(0,s._)("span",h,(0,r.zw)(e.title),1),(0,s._)("span",g,(0,r.zw)(n.displayDate(e.date)),1)],8,p)])))),128))])])}var m=a(5492),_=a(2262),v=a(8042),w=a(8410),y={setup(){const e=(0,w.oR)(),t=(0,_.qj)([]);v.Z.get("/api/photo/").then((e=>{t.length=0,t.push(...e.data.photos)})).catch((t=>{console.error(t.response),e.commit("message/addMessage",{level:"warning",message:"アルバムを取得できませんでした。",appname:"photos/index"})}));const a=(0,_.Fl)((()=>t.map((e=>{const t=(0,m.Z)(e.date);let a=0;return a=t.isBefore((0,m.Z)().set({year:t.year(),month:3,day:1}))?t.year()-1:t.year(),a})))),s=(0,_.Fl)((()=>a.value.filter(((e,t,a)=>a.indexOf(e)===t)).reverse())),r=e=>t.filter((t=>(0,m.Z)(t.date).isBetween((0,m.Z)(`${e}-04-01`),(0,m.Z)(`${e+1}-04-01`),void 0,"[)"))).reverse(),l=e=>(0,m.Z)(e).format("YYYY/MM/DD"),n=e=>e.thumbnail?e.thumbnail:"/static/img/album_thum_default.jpg",o=(0,_.Fl)((()=>e.state.user.is_staff));return{photos:t,years:a,yearsSet:s,photoStaff:o,getItems:r,displayDate:l,thumbnailPath:n}}},b=a(3744);const k=(0,b.Z)(y,[["render",f],["__scopeId","data-v-1f755952"]]);var D=k},7688:function(e,t,a){e.exports=a.p+"static/dist/img/unplugged_logo.c717fdac.jpg"}}]);
//# sourceMappingURL=photo.39faa671.js.map