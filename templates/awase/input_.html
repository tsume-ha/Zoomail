{% extends 'base.html' %}
{% load static %}
{% load getsongdetail %}

{% block title %}{{ calendar.title }} に回答 | Unplugged Message{% endblock %}
{% block extrastyle %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/awase/input.css' %}">
{% endblock %}


{% block body %}
<h3><a href="{% url 'awase:calendar' calendar.pk %}">{{ calendar.title }}</a> に回答</h3>


<section id="app" class="my-3">
    <ul id="input_nav" class="my-2">
        <date-li-selector
            v-for="date in days" :date="date"
        >
                
        </date-li-selector>
    </ul>


</section>




</section>

<script type="text/javascript">
Vue.component('date-li-selector', {
    props: {
        date: {type: Date, required: true},
    },
    delimiters: ['[[', ']]'],
    data: function(){
        return {
            jp_weekday: ['日','月','火','水','木','金','土'],
            };
        },
    template: `<li>[[displayDate]]<br>[[displayWeekday]]</li>`,
    computed: {
        displayDate: function (){
            let month = this.date.getMonth() + 1;
            let day = this.date.getDate();
            
            return month + '月' + day + '日';
        },
        displayWeekday: function(){
            let weekday = this.date.getDay();
            return '(' + this.jp_weekday[weekday] + ')';
        }
    }
})

let app = new Vue({
    el: '#app',
    delimiters: ['[[', ']]'],
    data: {
        days: [
            new Date(2020, 3, 28),
            new Date(2020, 3, 29),
            new Date(2020, 3, 30),
            new Date(2020, 3, 31),
            new Date(2020, 4, 1),
            new Date(2020, 4, 2),
            new Date(2020, 4, 3),
            new Date(2020, 4, 4),
            new Date(2020, 4, 5),
            ]
    }
})
</script>
<style type="text/css">
ul#input_nav{
    box-sizing: border-box;
    height: 5rem;
    margin: 1rem 0;
    padding: 0;
    overflow-x: scroll;
    overflow-y: visible;
}
ul#input_nav li{
    box-sizing: border-box;
    height: 5rem;
    width: 12rem;
    padding: 1rem;
    display: inline-block;
}
</style>
{% endblock %}